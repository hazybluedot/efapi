---
title: 'Working with Multiple Data Sets'
morea_type: module
morea_id: module-matlab-uigetfile
published: true
---
The program we just created reads in accelerometer and GPS data,
calculates velocity and position data from acceleration data,
calculates velocity and acceleration data from position data, and then
generates a number of figures. We have been using a single data set
when developing this program, but it should work for any data in the
same format.

# Prompting the User to Pick a File

There are several other CSV files with similar data recorded at
different times. We will modify our program to prompt the user to
select a data file before performing the calculations and plots.

Before proceeding, save a new version of your file from last week
named "lab11_[netid].m" and make the changes described here to that
file.

~~~ aside A More General Implementation
When returning a single argument, `uigetfile` returns just the file name, regardless of what folder the selected file is in. To handle cases in which the user selects a file from a folder other than the one the program file is in, we would need to retrieve a second argument from `uigetfile`, the path to the file:

```
[file, path] = uigetfile('*.csv');
data = csvread(fullfile(path, file));
```
~~~

Prompt the user to select a CSV file using MATLAB's `uigetfile` function:

```
file = uigetfile('*.csv');
```

Use this file as the source of data for the calculations.

Try running this program several times, selecting one of the Commute
CSV files from the Lab11 data archive.

# Discussion

Use your file, or [lab11_example2.m](lab11_example2.m) to load several different data files and observe the results. What happens if the user selects a CSV file with:
1. A different number of columns than expected?
   - Try selecting either 'JustAccData.csv' or 'midterm_and_practice_grades.csv'
2. Same number of columns, but the data mean different things?
   - Try selecting 'BadTimeData.csv', this file was generated by taking a valid file and selecting 1000 rows at randome.
